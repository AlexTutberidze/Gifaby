{"ast":null,"code":"import _slicedToArray from\"/Users/luka/Documents/GitHub/Gifaby/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{render}from'@testing-library/react';import'./gifaby.css';import{user}from'./redux/reducers/user';import{Helmet}from'react-helmet';import newuser from'./newuser';import{Modal,Button}from'react-bootstrap';import Feed from'./Feed';import Avatar from'@material-ui/core/Avatar';import firebase from'firebase';import nickname from'./Register';function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){var unsubscribe=firebase.auth().onAuthStateChanged(function(authUser){if(authUser){console.log(authUser);setUser(authUser);}else{setUser(null);}});return function(){unsubscribe();};},[user,nickname]);useEffect(function(){firebase.firestore().collection('posts').onSnapshot(function(snapshot){setPosts(snapshot.docs.map(function(doc){return{id:doc.id,post:doc.data()};}));});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"allbg\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Gifaby | Home\"})}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbarh\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return firebase.auth().signOut();},className:\"btnoutssd\",variant:\"outline-danger\",children:\"LogOut\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logoh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Feed\",children:posts.map(function(_ref){var id=_ref.id,post=_ref.post;return/*#__PURE__*/_jsx(Feed,{username:post.username,description:post.description,imageUrl:post.imageUrl},id);})})]})});}export default Home;","map":{"version":3,"sources":["/Users/luka/Documents/GitHub/Gifaby/src/Gifaby.js"],"names":["React","useEffect","useState","render","user","Helmet","newuser","Modal","Button","Feed","Avatar","firebase","nickname","Home","posts","setPosts","setUser","unsubscribe","auth","onAuthStateChanged","authUser","console","log","firestore","collection","onSnapshot","snapshot","docs","map","doc","id","post","data","signOut","username","description","imageUrl"],"mappings":"uSAAA,MAAOA,CAAAA,KAAP,EACIC,SADJ,CAEIC,QAFJ,KAGO,OAHP,CAIA,OAASC,MAAT,KAAuB,wBAAvB,CACA,MAAO,cAAP,CACA,OAASC,IAAT,KAAqB,uBAArB,CACA,OAASC,MAAT,KAAuB,cAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAIA,QAASC,CAAAA,IAAT,EAAgB,eAEcX,QAAQ,CAAC,EAAD,CAFtB,wCAELY,KAFK,eAEEC,QAFF,8BAGYb,QAAQ,CAAC,IAAD,CAHpB,yCAGLE,IAHK,eAGCY,OAHD,eAKZf,SAAS,CAAC,UAAM,CACZ,GAAMgB,CAAAA,WAAW,CAAGN,QAAQ,CAACO,IAAT,GAAgBC,kBAAhB,CAAmC,SAACC,QAAD,CAAc,CACjE,GAAIA,QAAJ,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAJ,OAAO,CAACI,QAAD,CAAP,CACH,CAHD,IAGO,CACHJ,OAAO,CAAC,IAAD,CAAP,CACH,CACJ,CAPmB,CAApB,CASA,MAAO,WAAM,CACTC,WAAW,GACd,CAFD,CAGH,CAbQ,CAaN,CAACb,IAAD,CAAOQ,QAAP,CAbM,CAAT,CAeAX,SAAS,CAAC,UAAM,CACZU,QAAQ,CAACY,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCC,UAAzC,CAAoD,SAAAC,QAAQ,CAAI,CAC5DX,QAAQ,CAACW,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAK,CAC/BC,EAAE,CAAED,GAAG,CAACC,EADuB,CAE/BC,IAAI,CAAEF,GAAG,CAACG,IAAJ,EAFyB,CAAL,EAArB,CAAD,CAAR,CAIH,CALD,EAMH,CAPQ,CAON,EAPM,CAAT,CASA,mBACI,sCACI,aAAK,SAAS,CAAC,OAAf,wBACA,KAAC,MAAD,wBACE,wCADF,EADA,cAIA,oCACI,YAAK,SAAS,CAAC,SAAf,EADJ,cAII,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMrB,CAAAA,QAAQ,CAACO,IAAT,GAAgBe,OAAhB,EAAN,EAAjB,CAAkD,SAAS,CAAC,WAA5D,CAAwE,OAAO,CAAC,gBAAhF,oBAJJ,cAKI,YAAK,SAAS,CAAC,OAAf,EALJ,GAJA,cAWI,YAAK,SAAS,CAAC,MAAf,UAEQnB,KAAK,CAACc,GAAN,CAAU,kBAAEE,CAAAA,EAAF,MAAEA,EAAF,CAAMC,IAAN,MAAMA,IAAN,oBACN,KAAC,IAAD,EAAe,QAAQ,CAAEA,IAAI,CAACG,QAA9B,CAAwC,WAAW,CAAEH,IAAI,CAACI,WAA1D,CAAuE,QAAQ,CAAEJ,IAAI,CAACK,QAAtF,EAAWN,EAAX,CADM,EAAV,CAFR,EAXJ,GADJ,EADJ,CA0BH,CAED,cAAejB,CAAAA,IAAf","sourcesContent":["import React, {\n    useEffect,\n    useState\n} from 'react'\nimport { render } from '@testing-library/react'\nimport './gifaby.css'\nimport { user } from './redux/reducers/user'\nimport { Helmet } from 'react-helmet'\nimport newuser from './newuser'\nimport { Modal, Button } from 'react-bootstrap'\nimport Feed from './Feed'\nimport Avatar from '@material-ui/core/Avatar'\nimport firebase from 'firebase'\nimport nickname from './Register'\n\n\n\nfunction Home() {\n    \n    const [posts, setPosts] = useState([]);\n    const [user, setUser] = useState(null)\n\n    useEffect(() => {\n        const unsubscribe = firebase.auth().onAuthStateChanged((authUser) => {\n            if (authUser) {\n                console.log(authUser)\n                setUser(authUser)\n            } else {\n                setUser(null)\n            }\n        })\n\n        return () => {\n            unsubscribe();\n        }\n    }, [user, nickname])\n\n    useEffect(() => {\n        firebase.firestore().collection('posts').onSnapshot(snapshot => {\n            setPosts(snapshot.docs.map(doc => ({\n                id: doc.id,\n                post: doc.data()\n            })))\n        })\n    }, [])\n\n    return (\n        <>\n            <div className='allbg' >\n            <Helmet>\n              <title>Gifaby | Home</title>\n            </Helmet>\n            <nav>\n                <div className='navbarh' >\n                    \n                </div>\n                <Button onClick={() => firebase.auth().signOut()} className='btnoutssd' variant='outline-danger' >LogOut</Button>\n                <div className='logoh'></div>\n            </nav>\n                <div className='Feed' >\n                    {\n                        posts.map(({id, post}) => (\n                            <Feed key={id} username={post.username} description={post.description} imageUrl={post.imageUrl} />\n                        ))\n                    }\n                </div>\n                \n            </div>\n        </>\n\n       \n    )\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}